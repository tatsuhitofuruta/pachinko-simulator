# エヴァンゲリオン パチンコシミュレーター

エヴァ15（未来への咆哮）とエヴァ17（はじまりの記憶）の収支シミュレーション、ボーダー計算、確率分析ツール

## 機能

- 🎰 **収支シミュレーション**: 指定回転数での収支分布を計算
- 📊 **機種比較**: エヴァ15 vs エヴァ17の比較
- 📈 **ハマり確率**: 各回転数でのハマり確率を計算
- ⏱️ **勝率収束**: 期待勝率に収束するまでの必要回転数を計算

## インストール

```bash
git clone https://github.com/YOUR_USERNAME/eva-pachinko-simulator.git
cd eva-pachinko-simulator
pip install -r requirements.txt
```

## 使い方

### エヴァ15 vs エヴァ17 比較

```bash
python eva_simulator.py --mode compare --rotation 18
```

### ハマり確率比較

```bash
python eva_simulator.py --mode hamari
```

### 勝率収束計算

```bash
python eva_simulator.py --mode convergence
```

### 単一機種シミュレーション

```bash
# エヴァ15
python eva_simulator.py --mode single --machine eva15 --rotation 18 --spins 2000

# エヴァ17
python eva_simulator.py --mode single --machine eva17 --rotation 18 --spins 2000
```

### 当たり履歴の表示

```bash
# 1回の稼働を詳細に見る
python eva_simulator.py --mode single --machine eva15 --sims 1

# 多数回でも詳細表示を強制
python eva_simulator.py --mode single --sims 100 --detail

# 少数回でも詳細を省略
python eva_simulator.py --mode single --sims 5 --no-detail
```

## オプション

| オプション | 説明 | デフォルト |
|------------|------|------------|
| `--mode` | 実行モード (compare/hamari/convergence/single) | compare |
| `--rotation` | 千円あたり回転数 | 18.0 |
| `--spins` | 総回転数 | 2000 |
| `--sims` | シミュレーション回数 | 50000 |
| `--machine` | 機種 (eva15/eva17) | eva15 |
| `--detail` / `-d` | 当たり履歴を強制表示 | - |
| `--no-detail` | 当たり履歴を非表示 | - |

※ 当たり履歴は `--sims` が10以下の場合に自動表示されます

## スペック情報

### エヴァ15（未来への咆哮）

| 項目 | 数値 |
|------|------|
| 大当り確率 | 1/319.7 |
| ST突入率 | 70% |
| ST継続率 | 81% |
| 初当たり出玉 | 3%で1,500発 / 97%で450発 |
| ST中出玉 | 1,500個 |
| 等価ボーダー | 17.0回転 |

### エヴァ17（はじまりの記憶）

| 項目 | 数値 |
|------|------|
| 大当り確率 | 1/399.9 |
| ST突入率 | 61% |
| ST継続率 | 80% |
| 初当たり出玉 | 0.5%で1,500発 / 99.5%で300発 |
| ST中出玉 | 2,400個 |
| 等価ボーダー | 16.8回転 |

## 出力例

### 統計情報

```
【エヴァ15（未来への咆哮）】
  勝率: 50.3%
  平均収支: +15,629円
  中央値: +689円
  標準偏差: 85,105円

  初当たり回転数:
    平均: 320回転
    中央値: 220回転

  連チャン数:
    平均: 4.2連
    最大: 15連
    分布: 1連:30% 2連:14% 3連:11% ...
```

### 当たり履歴（--sims 1 の場合）

```
==================================================
【当たり履歴】
==================================================

  ▶ 当たり1: 230回転目 (累計230回転)
    初当たり: 450発 → ST非突入（単発）
    → 合計出玉: 450発

  ▶ 当たり2: 162回転目 (累計392回転)
    初当たり: 450発 → ST突入 → 6連
      2連目: 1,500発
      3連目: 1,500発
      4連目: 1,500発
      5連目: 1,500発
      6連目: 1,500発
    → 合計出玉: 7,950発

  ----------------------------------------
  総当たり回数: 2回
  総獲得出玉: 8,400発
  最終収支: +12,489円
```

## 確率の累乗効果について

319と399の差は直感的には小さく感じますが、ハマり確率は累乗で効くため、深いハマりほど差が顕著になります。

| 回転数 | 倍率（399/319） |
|--------|-----------------|
| 500回転 | 1.37倍 |
| 1000回転 | 1.88倍 |
| 1500回転 | 2.57倍 |

→ 1000ハマりがエヴァ17では約2倍起きやすい

## ライセンス

MIT License

## 注意事項

- このツールは学習・研究目的で作成されています
- 実際の遊技結果を保証するものではありません
- ギャンブルは計画的に
